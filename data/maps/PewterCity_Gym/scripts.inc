PewterCity_Gym_MapScripts::
	.byte 0
	
PewterCity_Gym_EventScript_Brock::
	famechecker FAMECHECKER_BROCK, FCPICKSTATE_COLORED, UpdatePickStateFromSpecialVar8005
	goto_if_set FLAG_REMATCH_BROCK, PewterCity_Gym_EventScript_LeaderRematch
	trainerbattle_single TRAINER_LEADER_BROCK, PewterCity_Gym_Text_BrockIntro, PewterCity_Gym_Text_BrockDefeat, PewterCity_Gym_EventScript_DefeatedBrock, NO_MUSIC
	goto_if_unset FLAG_GOT_TM39_FROM_BROCK, PewterCity_Gym_EventScript_GiveTM39
	msgbox PewterCity_Gym_Text_BrockPostBattle
	release
	end

PewterCity_Gym_EventScript_DefeatedBrock::
	famechecker FAMECHECKER_BROCK, 1
	setflag FLAG_DEFEATED_BROCK
	setflag FLAG_BADGE01_GET
	setvar VAR_MAP_SCENE_PEWTER_CITY, 1
	setflag FLAG_HIDE_PEWTER_CITY_GYM_GUIDE
	clearflag FLAG_HIDE_PEWTER_CITY_RUNNING_SHOES_GUY
	set_gym_trainers 1
	goto PewterCity_Gym_EventScript_GiveTM39
	end

PewterCity_Gym_EventScript_GiveTM39::
	msgbox PewterCity_Gym_Text_TakeThisWithYou
	checkitemspace ITEM_TM39
	goto_if_eq VAR_RESULT, FALSE, PewterCity_Gym_EventScript_NoRoomForTM39
	giveitem_msg PewterCity_Gym_Text_ReceivedTM39FromBrock, ITEM_TM39
	setflag FLAG_GOT_TM39_FROM_BROCK
	msgbox PewterCity_Gym_Text_ExplainTM39
	release
	end

PewterCity_Gym_EventScript_NoRoomForTM39::
	msgbox PewterCity_Gym_Text_DontHaveRoomForThis
	release
	end

PewterCity_Gym_EventScript_Liam::
	trainerbattle_single TRAINER_CAMPER_LIAM, PewterCity_Gym_Text_LiamIntro, PewterCity_Gym_Text_LiamDefeat
	msgbox PewterCity_Gym_Text_LiamPostBattle, MSGBOX_AUTOCLOSE
	end

PewterCity_Gym_EventScript_GymGuy::
	lock
	faceplayer
	goto_if_set FLAG_DEFEATED_BROCK, PewterCity_Gym_EventScript_GymGuyPostVictory
	msgbox PewterCity_Gym_Text_LetMeTakeYouToTheTop, MSGBOX_YESNO
	goto_if_eq VAR_RESULT, YES, PewterCity_Gym_EventScript_GymGuyTakeMeToTop
	goto_if_eq VAR_RESULT, NO, PewterCity_Gym_EventScript_GymGuyDontTakeMeToTop
	end

PewterCity_Gym_EventScript_GymGuyPostVictory::
	msgbox PewterCity_Gym_Text_YoureChampMaterial
	release
	end

PewterCity_Gym_EventScript_GymGuyTakeMeToTop::
	msgbox PewterCity_Gym_Text_LetsGetHappening
	goto PewterCity_Gym_EventScript_GymGuyAdvice
	end

PewterCity_Gym_EventScript_GymGuyDontTakeMeToTop::
	msgbox PewterCity_Gym_Text_ItsFreeLetsGetHappening
	goto PewterCity_Gym_EventScript_GymGuyAdvice
	end

PewterCity_Gym_EventScript_GymGuyAdvice::
	msgbox PewterCity_Gym_Text_TryDifferentPartyOrders
	release
	end

PewterCity_Gym_EventScript_GymStatue::
	lockall
	goto_if_set FLAG_BADGE01_GET, PewterCity_Gym_EventScript_GymStatuePostVictory
	msgbox PewterCity_Gym_Text_GymStatue
	releaseall
	end

PewterCity_Gym_EventScript_GymStatuePostVictory::
	msgbox PewterCity_Gym_Text_GymStatuePlayerWon
	releaseall
	end



PewterCity_Gym_EventScript_LeaderRematch::
 random 2
 switch VAR_RESULT
 case 0, PewterCity_Gym_Script_Brock_RematchTeamOption1
 case 1, PewterCity_Gym_Script_Brock_RematchTeamOption2
 msgbox PewterCity_Gym_Text_Brock_postrematch, MSGBOX_AUTOCLOSE
 clearflag FLAG_REMATCH_BROCK
 end
PewterCity_Gym_Script_Brock_RematchTeamOption1::
 trainerbattle_single TRAINER_LEADER_BROCKREMATCHA, PewterCity_Gym_Text_RebattleIntro, PewterCity_Gym_Text_RebattleDeafeated
PewterCity_Gym_Script_Brock_RematchTeamOption2::
 trainerbattle_single TRAINER_LEADER_BROCKREMATCHB, PewterCity_Gym_Text_RebattleIntro, PewterCity_Gym_Text_RebattleDeafeated
PewterCity_Gym_Text_RematchCheckUnlocked::
  lock
  faceplayer
  goto_if_set FLAG_DEFEATED_CHAMP, PewterCity_Gym_Script_Rematch
  msgbox PewterCity_Gym_Text_RematchNotUnlocked, MSGBOX_AUTOCLOSE
  end
PewterCity_Gym_Script_Rematch::
	msgbox PewterCity_Gym_Text_RematchQuestion, MSGBOX_YESNO
	compare VAR_RESULT, 0
	goto_if_eq PewterCity_Gym_Script_NoRematch
	setflag FLAG_REMATCH_BROCK
	msgbox PewterCity_Gym_Text_RematchGo, MSGBOX_AUTOCLOSE
	end
PewterCity_Gym_Script_NoRematch::
	msgbox PewterCity_Gym_Text_NoRematch, MSGBOX_AUTOCLOSE
	release
	end
